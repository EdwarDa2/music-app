<div class="album-container" *ngIf="album$ | async as album">

  <div class="album-header">
    <img [src]="album.images[0]?.url" alt="Portada del Ãlbum">
    <div class="album-info">
      <h2>{{ album.name }}</h2>
      <p>por {{ album.artists[0]?.name }}</p>
      <span>{{ album.tracks.items.length }} canciones</span>
    </div>
  </div>

  <div class="track-list">
    <div 
      class="track-item" 
      *ngFor="let track of album.tracks.items; let i = index"
      (click)="playPreview(track)">
      
      <div class="track-number">{{ i + 1 }}</div>
      <div class="track-title">
        <div>{{ track.name }}</div>
        <div class="track-artist">{{ track.artists[0]?.name }}</div>
      </div>
      <div class="track-duration">
        {{ formatDuration(track.duration_ms) }}
      </div>
    </div>
  </div>

</div>

<audio #audioPlayer src=""></audio>